Пример, нам необходимо:
бублик - 1шт
бумага - 2шт
рубушка - 3шт
гранола - 4шт
фруктовых лед - 5шт
пончик - 6шт

Результат расчетов пишется в DebugView:
Информация по фабрикам:

пекарня
бублик - 7

Сахарная фабрика
сахар - 21
карамель - 6

Фабрика закусок
гранола - 4

Кондитерская
пончик - 6

Информация по ингридиентам:
пшеница - 22
сахарный тросник - 39
клубника - 8
какао - 6
яйцо - 21